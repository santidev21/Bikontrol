<div class="max-w-md mx-auto bg-white rounded-xl shadow-md p-6 mt-6">
  <h2 class="text-2xl font-bold mb-4 text-gray-800 text-center">
    {{ isEditMode ? 'Editar Motocicleta' : 'Registrar Motocicleta' }}
  </h2>

  <form [formGroup]="motorcycleForm" (ngSubmit)="onSubmit()" class="space-y-4">
    <!-- Nombre -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Nombre *</label>
      <input
        formControlName="name"
        type="text"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
        placeholder="Ej: TTR 200"
      />
      <small *ngIf="hasError('name', 'required')" class="text-red-500 font-bold">
        Campo requerido
      </small>
      <small *ngIf="hasError('name', 'minlength')" class="text-red-500 font-bold">
        Mínimo 2 caracteres
      </small>
    </div>

    <!-- Marca -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Marca *</label>
      <input
        formControlName="brand"
        type="text"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
        placeholder="Ej: Yamaha"
      />
      <small *ngIf="hasError('brand', 'required')" class="text-red-500 font-bold">
        Campo requerido
      </small>
    </div>

    <!-- Año y Kilometraje -->
    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block text-gray-700 font-semibold mb-1">Modelo *</label>
        <input
          formControlName="year"
          type="number"
          class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
        />
        <small *ngIf="hasError('year', 'required')" class="text-red-500 font-bold">
          Campo requerido
        </small>
        <small *ngIf="hasError('year', 'min')" class="text-red-500 font-bold">
          Debe ser mayor o igual a 1950
        </small>
        <small *ngIf="hasError('year', 'max')" class="text-red-500 font-bold">
          Debe ser menor o igual a {{ currentYear + 1 }}
        </small>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Kilometraje *</label>
        <input
          formControlName="km"
          type="number"
          class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
          placeholder="Ej: 15000"
        />
        <small *ngIf="hasError('km', 'required')" class="text-red-500 font-bold">
          Campo requerido
        </small>
        <small *ngIf="hasError('km', 'min')" class="text-red-500 font-bold">
          Debe ser positivo
        </small>
        <small *ngIf="hasError('km', 'max')" class="text-red-500 font-bold">
          No puede superar 1,000,000 km
        </small>
      </div>
    </div>

    <!-- Apodo -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Apodo *</label>
      <input
        formControlName="nickname"
        type="text"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
        placeholder="Ej: Rayo"
      />
      <small *ngIf="hasError('nickname', 'required')" class="text-red-500 font-bold">
        Campo requerido
      </small>
    </div>

    <!-- Cilindraje y Placa -->
    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block text-gray-700 font-semibold mb-1">Cilindraje (cc) *</label>
        <input
          formControlName="displacement"
          type="number"
          class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary focus:outline-none"
        />
        <small *ngIf="hasError('displacement', 'required')" class="text-red-500 font-bold">
          Campo requerido
        </small>
        <small *ngIf="hasError('displacement', 'min')" class="text-red-500 font-bold">
          Debe ser positivo
        </small>
        <small *ngIf="hasError('displacement', 'max')" class="text-red-500 font-bold">
          No puede superar 2300 cc
        </small>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Placa *</label>
        <input
          formControlName="plate"
          type="text"
          class="w-full border border-gray-300 rounded-lg p-2 uppercase focus:ring-2 focus:ring-primary focus:outline-none"
          placeholder="Ej: ABC123"
        />
        <small *ngIf="hasError('plate', 'required')" class="text-red-500 font-bold">
          Campo requerido
        </small>
      </div>
    </div>

    <!-- Imagen -->
    <div class="flex flex-col items-center mt-4">
      <img
        src="/assets/images/defaults/motorcycle-placeholder.webp"
        alt="Preview"
        class="w-24 h-24 object-cover rounded-lg shadow-sm mb-2"
      />
      <p class="text-sm text-gray-500">Imagen por defecto</p>
    </div>

    <!-- Botón -->
    <button
      type="submit"
      [disabled]="isSubmitting"
      class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary-dark transition-colors"
    >
      {{ isSubmitting ? 'Guardando...' : (isEditMode ? 'Actualizar Motocicleta' : 'Guardar Motocicleta') }}
    </button>
  </form>
</div>
